<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard</title>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-LH0RPFXFRX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-LH0RPFXFRX');
  </script>
  <style>
    
    /* Global Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(120deg, #ff9a9e, #fad0c4, #a1c4fd, #c2e9fb);
      background-size: 300% 300%;
      animation: gradientShift 10s infinite alternate;
      overflow: hidden;
      font-family: 'Poppins', sans-serif;
      position: relative;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      100% { background-position: 100% 50%; }
    }

    /* --- Content Styling (Main Dashboard) --- */
    .content {
      position: relative;
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(15px);
      padding: 40px 70px;
      border-radius: 30px;
      text-align: center;
      z-index: 2;
      box-shadow: 0 0 40px rgba(0,0,0,0.2);
      border: 2px solid rgba(255,255,255,0.4);
      
      /* Initial state for smooth fade-in */
      opacity: 0; 
      visibility: hidden; 
      transition: opacity 1s ease-in-out; 
    }
    
    /* State when content is visible */
    .content.is-visible {
        opacity: 1;
        visibility: visible;
    }

    .content h1 {
      font-size: 2.5rem;
      color: #7c1919;
      margin-bottom: 20px;
    }

    .btns button {
      margin: 10px;
      padding: 12px 30px;
      font-size: 1.2rem;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      color: white;
      background: linear-gradient(45deg, #667eea, #764ba2);
      transition: transform 0.3s;
    }

    .btns button:hover {
      transform: scale(1.1);
    }
    
    /* --- Password Popup Styling --- */
    #password-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7); 
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10;
      transition: opacity 0.5s ease-out; /* Overlay Fade-out */
    }

    /* State when overlay is hidden */
    #password-overlay.hidden {
        opacity: 0;
        pointer-events: none; 
    }

    .password-popup {
      background: #fff;
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
      width: 350px; 
      
      /* Initial transform for the popup */
      transform: translateY(0);
      transition: opacity 0.5s ease-out, transform 0.5s ease-out; 
    }
    
    /* NEW CSS: State when popup is fading out */
    .password-popup.fade-out {
        opacity: 0;
        transform: translateY(50px); /* Slides 50px down while fading */
    }

    .password-popup h2 {
      margin-bottom: 20px;
      color: #333;
    }

    /* Style for the Warning message */
    .weekly-warning {
        font-size: 0.95rem;
        color: #d9534f; 
        font-weight: bold;
        margin-bottom: 15px;
        padding: 5px;
        border: 1px dashed #d9534f;
        border-radius: 5px;
    }
    
    /* NEW CSS: Style for the Telegram Box */
    .telegram-box {
        background: #e6f0ff; /* Light blue background */
        border: 2px solid #667eea; /* Primary border color */
        border-radius: 10px;
        padding: 15px 10px;
        margin-bottom: 20px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        font-size: 1rem;
        color: #333;
    }
    .telegram-box a {
        color: #764ba2; /* Darker link color */
        text-decoration: none;
        font-weight: bold;
        display: block; /* Makes the entire link area clickable */
        padding: 5px;
    }
    .telegram-box a:hover {
        color: #667eea;
        text-decoration: underline;
    }


    .password-popup input[type="password"] {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 1rem;
      text-align: center;
    }
    
    .password-popup button {
      background: linear-gradient(45deg, #667eea, #764ba2);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s;
    }

    .password-popup button:hover {
      background: linear-gradient(45deg, #764ba2, #667eea);
    }

    .error-message {
      color: red;
      margin-top: 10px;
      font-size: 0.9rem;
      height: 20px; 
      transition: opacity 0.3s ease-out;
    }

  </style>
</head>
<body>

  <div id="password-overlay">
    <div class="password-popup" id="password-popup">
      <h2>Access Required</h2>
      
      <p class="weekly-warning">
          ‚ö†Ô∏è **Password will change every week!**
      </p>
      
      <div class="telegram-box">
        For the latest password, please 
        <a href="https://t.me/+pZ2ZIYF22MQ0MmM1" target="_blank">
            Join this telegram group
        </a>
      </div>
      <input type="password" id="password-input" placeholder="Enter Password" />
      <button onclick="checkPassword()" id="unlock-btn">Unlock Dashboard</button>
      <div class="error-message" id="error-msg"></div>
    </div>
  </div>

  <div class="content" id="main-content">
    <h1>PARMAR SSC GK BATCH 4.0</h1>
    <h1>NOTES AND QUIZES</h1>
    <div class="btns">
      <button onclick="window.location.href='quiz.html'">üß† Quiz Dashboard</button>
      <button onclick="window.location.href='notes.html'">üìö Notes Dashboard</button>
    </div>
  </div>

  <script>
    // --- Configuration ---
    const CORRECT_PASSWORD = "123"; // <-- **CHANGE THIS TO YOUR DESIRED PASSWORD**
    const ACCESS_DURATION = 15 * 1000; // 15 seconds in milliseconds

    const overlay = document.getElementById('password-overlay');
    const content = document.getElementById('main-content');
    const errorMsg = document.getElementById('error-msg');
    const inputField = document.getElementById('password-input');
    const unlockBtn = document.getElementById('unlock-btn');
    const popup = document.getElementById('password-popup'); 
    
    let errorTimeout; 

    // Function to show the dashboard immediately
    function showDashboard() {
        overlay.style.display = 'none'; 
        popup.style.display = 'none';
        content.classList.add('is-visible'); 
    }

    // --- LOGIC: Check time stored in localStorage on load ---
    window.onload = function() {
        const storedTime = localStorage.getItem('accessTime');
        const currentTime = new Date().getTime();

        if (storedTime) {
            const timeDifference = currentTime - parseInt(storedTime, 10);
            
            // Check if the current time is less than 15 seconds (15000ms) after the stored time
            if (timeDifference < ACCESS_DURATION) {
                showDashboard();
            } else {
                // Session expired. Clear the old timestamp and ask for password.
                localStorage.removeItem('accessTime');
                inputField.focus();
            }
        } else {
            // No previous access time found, ask for password
            inputField.focus();
        }
    };
    // --- END LOGIC ---

    function checkPassword() {
      // 1. Visual Feedback: Change button text
      unlockBtn.textContent = 'Checking... üîç';
      unlockBtn.disabled = true; 
      clearTimeout(errorTimeout); 

      // Use a small delay for the user to see the "Checking..." state
      setTimeout(() => {
        const input = inputField.value;

        if (input === CORRECT_PASSWORD) {
          // Password is correct (Success State)
          unlockBtn.textContent = 'Success! ‚úÖ';
          
          // Store current time (timestamp)
          const currentTime = new Date().getTime();
          localStorage.setItem('accessTime', currentTime);

          // 2. Smooth Transition: Hide overlay and show content
          setTimeout(() => {
            // Start the popup slide-down/fade-out transition
            popup.classList.add('fade-out'); 
            
            // Start the overlay fade-out (simultaneously)
            overlay.classList.add('hidden'); 
            
            // Start content fade-in (simultaneously)
            content.classList.add('is-visible'); 
            
            // Cleanup after all transitions finish (1 second total)
            setTimeout(() => {
                overlay.style.display = 'none'; 
            }, 1000); 

          }, 300); // Wait 0.3s after showing success before starting transition

        } else {
          // Password is incorrect (Error State)
          unlockBtn.textContent = 'Unlock Dashboard'; // Reset button text
          unlockBtn.disabled = false; // Re-enable button
          
          errorMsg.textContent = '‚ùå Incorrect Password. Try again.';
          
          // 3. Error Auto-Clear: Hide error message after 4 seconds
          errorTimeout = setTimeout(() => {
            errorMsg.textContent = ''; // Clear the text
          }, 4000); 
        }
      }, 500); // 0.5 second delay
    }
    
    // Allows pressing Enter key to submit the password
    inputField.addEventListener('keypress', function(event) {
        if (event.key === 'Enter') {
            checkPassword();
        }
    });
  </script>
</body>
</html>